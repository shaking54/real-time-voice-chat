{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VoiceInput=_ref=>{let{onSend}=_ref;const[isListening,setIsListening]=useState(false);const[recognition,setRecognition]=useState(null);useEffect(()=>{if('webkitSpeechRecognition'in window){const speechRecognition=new window.webkitSpeechRecognition();speechRecognition.continuous=false;speechRecognition.interimResults=false;speechRecognition.lang='en-US';speechRecognition.onstart=()=>setIsListening(true);speechRecognition.onend=()=>setIsListening(false);speechRecognition.onerror=event=>{console.error('Speech recognition error',event);setIsListening(false);};speechRecognition.onresult=event=>{const transcript=event.results[0][0].transcript.trim();onSend(transcript);};setRecognition(speechRecognition);}else{console.warn('Speech recognition not supported in this browser.');}},[onSend]);const handleButtonClick=()=>{if(recognition){if(isListening){recognition.stop();}else{recognition.start();}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Press the microphone to speak\",disabled:true}),/*#__PURE__*/_jsx(\"button\",{onClick:handleButtonClick,disabled:!recognition,children:isListening?'Stop':'Speak'})]});};export default VoiceInput;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","VoiceInput","_ref","onSend","isListening","setIsListening","recognition","setRecognition","window","speechRecognition","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onend","onerror","event","console","error","onresult","transcript","results","trim","warn","handleButtonClick","stop","start","className","children","type","placeholder","disabled","onClick"],"sources":["/home/shaking/qlay/real-time-voice-chat/frontend/src/components/VoiceInput.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst VoiceInput = ({ onSend }) => {\n  const [isListening, setIsListening] = useState(false);\n  const [recognition, setRecognition] = useState(null);\n\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window) {\n      const speechRecognition = new window.webkitSpeechRecognition();\n      speechRecognition.continuous = false;\n      speechRecognition.interimResults = false;\n      speechRecognition.lang = 'en-US';\n\n      speechRecognition.onstart = () => setIsListening(true);\n      speechRecognition.onend = () => setIsListening(false);\n      speechRecognition.onerror = (event) => {\n        console.error('Speech recognition error', event);\n        setIsListening(false);\n      };\n      speechRecognition.onresult = (event) => {\n        const transcript = event.results[0][0].transcript.trim();\n        onSend(transcript);\n      };\n\n      setRecognition(speechRecognition);\n    } else {\n      console.warn('Speech recognition not supported in this browser.');\n    }\n  }, [onSend]);\n\n  const handleButtonClick = () => {\n    if (recognition) {\n      if (isListening) {\n        recognition.stop();\n      } else {\n        recognition.start();\n      }\n    }\n  };\n\n  return (\n    <div className=\"input-container\">\n      <input type=\"text\" placeholder=\"Press the microphone to speak\" disabled />\n      <button onClick={handleButtonClick} disabled={!recognition}>\n        {isListening ? 'Stop' : 'Speak'}\n      </button>\n    </div>\n  );\n};\n\nexport default VoiceInput;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CAC5B,KAAM,CAACE,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACW,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAEpDC,SAAS,CAAC,IAAM,CACd,GAAI,yBAAyB,EAAI,CAAAY,MAAM,CAAE,CACvC,KAAM,CAAAC,iBAAiB,CAAG,GAAI,CAAAD,MAAM,CAACE,uBAAuB,CAAC,CAAC,CAC9DD,iBAAiB,CAACE,UAAU,CAAG,KAAK,CACpCF,iBAAiB,CAACG,cAAc,CAAG,KAAK,CACxCH,iBAAiB,CAACI,IAAI,CAAG,OAAO,CAEhCJ,iBAAiB,CAACK,OAAO,CAAG,IAAMT,cAAc,CAAC,IAAI,CAAC,CACtDI,iBAAiB,CAACM,KAAK,CAAG,IAAMV,cAAc,CAAC,KAAK,CAAC,CACrDI,iBAAiB,CAACO,OAAO,CAAIC,KAAK,EAAK,CACrCC,OAAO,CAACC,KAAK,CAAC,0BAA0B,CAAEF,KAAK,CAAC,CAChDZ,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CACDI,iBAAiB,CAACW,QAAQ,CAAIH,KAAK,EAAK,CACtC,KAAM,CAAAI,UAAU,CAAGJ,KAAK,CAACK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACD,UAAU,CAACE,IAAI,CAAC,CAAC,CACxDpB,MAAM,CAACkB,UAAU,CAAC,CACpB,CAAC,CAEDd,cAAc,CAACE,iBAAiB,CAAC,CACnC,CAAC,IAAM,CACLS,OAAO,CAACM,IAAI,CAAC,mDAAmD,CAAC,CACnE,CACF,CAAC,CAAE,CAACrB,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAsB,iBAAiB,CAAGA,CAAA,GAAM,CAC9B,GAAInB,WAAW,CAAE,CACf,GAAIF,WAAW,CAAE,CACfE,WAAW,CAACoB,IAAI,CAAC,CAAC,CACpB,CAAC,IAAM,CACLpB,WAAW,CAACqB,KAAK,CAAC,CAAC,CACrB,CACF,CACF,CAAC,CAED,mBACE3B,KAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B/B,IAAA,UAAOgC,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,+BAA+B,CAACC,QAAQ,MAAE,CAAC,cAC1ElC,IAAA,WAAQmC,OAAO,CAAER,iBAAkB,CAACO,QAAQ,CAAE,CAAC1B,WAAY,CAAAuB,QAAA,CACxDzB,WAAW,CAAG,MAAM,CAAG,OAAO,CACzB,CAAC,EACN,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}